!function(t){"use strict";function a(a,o,n,c){var i=["#00a65a","#00c0ef","#f39c12","#dd4b39"];t(a).css({"background-color":i[o]}),t(a+" p").html(n),t(a).fadeIn(),setTimeout(function(){t(a).fadeOut(700),void 0!=c&&0==o&&c()},2e3)}function o(){var a=t(".captcha img").attr("src");t(".captcha img").attr("src",a+"?"+Math.random())}function n(){t(".login form").submit(function(n){n.preventDefault();var c=t(this).attr("action");t.post(c,{data:t(this).serialize()},function(t){o(),a(".callout",t.colors,t.msg,function(){void 0!=t.location&&(location.href=t.location)})})})}var c=t("body").data("path"),i=document.cookie.match(/CSRF_TOKEN=([\w-]+)/);i&&t.ajaxSetup({headers:{"X-CSRF-TOKEN":i[0]}}),t("li#lang").click(function(){var a=t(this).data("lang");t.post(c+"/lang",{data:a},function(t){1==t&&location.reload()})}),t('[data-toggle="popover"]').popover({trigger:"hover",placement:"left",html:!0}),t("button#send").click(function(){var o=t(this).parents("tr"),n=o.data("id"),i=o.find('[name="char"]').val();t.ajax({type:"POST",url:c+"/send",data:{id:n,"char":i},beforeSend:function(){a(".callout",1,'<i class="fa fa-refresh fa-spin loader"></i> Loading...')},success:function(n,c){"success"==c&&(0===n.color?(o.fadeOut(600,function(){this.remove()}),t("#win").text(n.win),a(".callout",n.color,n.msg)):a(".callout",n.color,n.msg))}})}),t("#captcha").click(function(){o(),t(this).stop().animate({now:360},{step:function(a,o){t(this).css("transform","rotate("+a+"deg)"),t(this).css("-o-transform","rotate("+a+"deg)"),t(this).css("-ms-transform","rotate("+a+"deg)"),t(this).css("-webkit-transform","rotate("+a+"deg)")},duration:1e3,complete:function(){this.now=0}})}),n()}(jQuery);